# FinanceDomain – Модуль "Учет финансов"

## Общая идея решения

Проект реализует модуль "Учет финансов" для банка, который позволяет:
- Создавать, обновлять и удалять банковские счета, категории и операции (доходов/расходов).
- Выполнять аналитические расчёты (подсчет разницы доходов и расходов, группировка операций по категориям).
- Импортировать и экспортировать данные в различных форматах (CSV, JSON, YAML) с использованием шаблонного метода и паттерна Посетитель.
- Пересчитывать баланс счета на основе операций.
- Измерять время выполнения сценариев с помощью паттерна Команда + Декоратор.
- Реализовать in-memory кэширование (паттерн Прокси) для повышения производительности при работе с базой данных.

## Принципы SOLID и GRASP

### SOLID
- **SRP (Single Responsibility Principle):**  
  Каждый класс имеет единую ответственность. Например, классы `BankAccount`, `Category` и `Operation` представляют доменные объекты, а их фасады (`BankAccountFacade`, `CategoryFacade`, `OperationFacade`) отвечают за управление соответствующими сущностями.
- **OCP (Open/Closed Principle):**  
  Новая функциональность добавляется через расширение, например, через шаблонный метод для импорта данных или через новые команды для пользовательских сценариев.
- **LSP (Liskov Substitution Principle):**  
  Интерфейсы (например, `IBankAccountFacade`, `ICategoryFacade`, `IOperationFacade`, `IFinanceManager`) позволяют подменять реализации без нарушения корректности работы приложения.
- **ISP (Interface Segregation Principle):**  
  Интерфейсы разделены по задачам: каждый фасад предоставляет методы только для работы с определённой сущностью.
- **DIP (Dependency Inversion Principle):**  
  Высокоуровневые модули (например, классы команд, DI-контейнер) зависят от абстракций (интерфейсов), а не от конкретных реализаций.

### GRASP
- **High Cohesion:**  
  Каждый класс выполняет узкую, чётко определённую задачу (например, `DomainFactory` отвечает только за создание доменных объектов).
- **Low Coupling:**  
  Компоненты системы общаются через интерфейсы, что снижает взаимозависимость между модулями.

## Реализованные паттерны GoF

1. **Фабрика (Factory):**  
   Класс `DomainFactory` гарантирует создание всех доменных объектов в одном месте и проводит валидацию входных данных.

2. **Фасад (Facade):**  
   Фасады (`BankAccountFacade`, `CategoryFacade`, `OperationFacade`) инкапсулируют логику управления соответствующими сущностями, упрощая взаимодействие с доменной моделью.

3. **Команда + Декоратор (Command + Decorator):**  
   Каждый пользовательский сценарий реализован как отдельная команда (интерфейс `ICommand` и его реализации, например, `CreateBankAccountCommand`, `DeleteOperationCommand`). Для измерения времени выполнения сценариев используется декоратор `TimedCommandDecorator`.

4. **Шаблонный метод (Template Method):**  
   Абстрактный класс `DataImporter<T>` реализует общий алгоритм импорта данных, а конкретные импортеры (например, `CsvDataImporter`, `JsonDataImporter`, `YamlDataImporter`) переопределяют часть логики, связанную с парсингом данных из соответствующих форматов.

5. **Посетитель (Visitor):**  
   Для экспорта данных используются классы-экспортёры (например, `CsvExportVisitor`, `JsonExportVisitor`, `YamlExportVisitor`), которые обходят объекты доменной модели и формируют строковое представление для сохранения в файле.

6. **Прокси (Proxy):**  
   Класс `FinanceManagerProxy` реализует in-memory кэширование данных, позволяя загружать данные из «базы данных» (симулированной через словари) один раз и использовать кэш при последующих чтениях. При изменениях данные записываются как в кэш, так и в базу.

## Инструкция по запуску

### Требования
- [.NET SDK 7.0](https://dotnet.microsoft.com/download/dotnet/7.0)
- Visual Studio или другой IDE, поддерживающий .NET (необязательно)

### Шаги для запуска приложения
1. **Клонировать репозиторий:**
   ```bash
   git clone https://github.com/karablik27/FinanceDomain_KPO-1.git
